<!doctype html>
<html>
  <head>
    <title>OKFN: Activity API</title>
    <link rel="stylesheet" type="text/css" href="static/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="static/style.css" />
  </head>
  <body>
    <div class="container">
      <div class="subcontainer">
        <header>
          <h1>OKFN Activity API</h1>
        </header>
        <br/>
        <h4>Version 1 Endpoints&nbsp;&nbsp; <small class="pull-right">All endpoints are served in JSON format.</small></h4>
        <h4 class="clearfix"><small class="pull-right">An optional <u>?callback=</u> parameter triggers JSONP format.</small></h4>
        <dl>
          <dt><a href="/api/1/">/api/1/</a></dt>
          <dd>Check the health of the API.</dd>
        </dl>
        <hr/>
        <dl>
          <dt><a href="/api/1/person/list">/api/1/person/list</a></dt>
          <dd>List people from the <a href="http://okfn.org">okfn.org</a> BuddyPress database.
          <table class="params table table-condensed">
              <thead><th colspan="2">Optional Parameters:</th></thead>
              <tbody>
                  <tr><td><code>opinion</code></td><td>Filter by database's <u>_opinion</u> field.<br/>"<u>spammer</u>", "<u>staff</u>" etc.</td>
              </tbody>
          </table></dd>
          <dt><a href="/api/1/person/set_opinion">/api/1/person/set_opinion</a></dt>
          <dd><b>POST</b>-endpoint. Set the <u>_opinion</u> field on a user.
          <table class="params table table-condensed">
              <thead><th colspan="2">Required Parameters:</th></thead>
              <tbody>
                  <tr><td><code>opinion</code></td><td>(String) Value of <u>_opinion</u> to write.</td></tr>
                  <tr><td><code>login</code></td><td>(String) User's <u>login</u> to assign it to.</td></tr>
              </tbody>
          </table></dd>
        </dl>
        <hr/>
        <dl>
          <dt><a href="/api/1/twitter/tweets">/api/1/twitter/tweets</a></dt>
          <dd>Twitter "firehose" of tweets from community members.</dd>
          <dt><a href="/api/1/twitter/trends">/api/1/twitter/trends</a></dt>
          <dd>See most-talked-about #hashtag, links, and commonly used words from the last 12 hours.</dd>
          <dt><a href="/api/1/twitter/ratelimit">/api/1/twitter/ratelimit</a></dt>
          <dd>How many more Twitter API calls can the server make this hour?</dd>
        </dl>
        <hr/>
        <dl>
          <dt><a href="/api/1/debug/request">/api/1/debug/request</a></dt>
          <dd>(for debug): Reflect the request you have GET/POST-ed to the server.</dd>
          <dt><a href="/api/1/debug/timestamps">/api/1/debug/timestamps</a></dt>
          <dd>(for debug): Timestamps updated once per ten minutes in a regular cron job.</dd>
        </dl>
        <footer>
          <p>The Activity API runs on <a href="http://www.heroku.com/">Heroku</a> cloud servers.</p>
          <p>Its architecture consists of a front-end dyno running a <a href="http://flask.pocoo.org/">Flask</a> webserver, with multiple scheduled worker threads maintaining a <a href="http://www.postgresql.org/">PostgreSQL</a> database.</p>
        </footer>
      </div>
    </div>

  </body>
</html>
