<!doctype html>
<html>
  <head>
    <title>OKFN: Activity API</title>
    <link rel="stylesheet" type="text/css" href="static/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="static/style.css" />
    <script src="http://code.jquery.com/jquery-1.8.1.min.js"></script>
    <script src="static/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="subcontainer">
        <header>
          <h1>OKFN Activity API</h1>
        </header>
        <br/>
        All endpoints are served in JSON format.
<hr/>
        <h3>Optional Parameters</h3>
        <pre style="font-size: 10px">
callback   Triggers JSONP format.</pre>
<pre style="font-size: 10px">
<span style="font-weight: bold;">Endpoints with <span class="label label-info">Paginated</span> accept the following:</span>
page       Page number. Use the resulting <b>last_page</b> value
           to provide pagination through items.
           Default: 0
           Note: ?page=2 will jump to the third page!
per-page   Number of items to be returned per API call.
           Default: 10</pre>
<pre style="font-size: 10px">
<span style="font-weight: bold;">Endpoints with <span class="label label-important">Granular</span> accept the following:</span>
grain      Time period to group results by.
           Valid: day, week, month, quarter, year
           Default: day
eg: <b>?grain=day</b> returns 7 times as many results as <b>?grain=week</b>.</pre>
        <hr/>
        <h3>Version 1 Reference</h3><br/>
        <h4>Intro</h4>
        <div class="accordion">
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row1" class="accordion-toggle" data-toggle="collapse">
                <u>/api/1/</u>
                </a></div>
                <div class="accordion-body collapse" id="row1"><div class="accordion-inner">
                    Check the health of the API
                </div></div>
            </div>
        </div>
        <h4>Activity</h4>
        <div class="accordion">
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row17" class="accordion-toggle" data-toggle="collapse">
                <u>/api/1/stream</u>
                </a></div>
                <div class="accordion-body collapse" id="row17"><div class="accordion-inner">
Body
                        <pre style="font-size: 10px;">
<b>Optional Parameters</b>
type       Comma seperated activity types.
           default: buddypress,twitter,github,mailman
login      Comma seperated user logins.
           eg. zephod,rgrp
opinion    Filter by the database <b>opinion</b> label.
           eg. staff

<b>Optional History Parameters</b>
hours      Number of hours of history per page.
           default: 4 hours
days       Number of days of history per page.
           default: 4 hours!
page       Step backwards through time.
           (no per_page or last_page is known) </pre>
                </div></div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row2" class="accordion-toggle" data-toggle="collapse">
                    <span class="label label-info pull-right">Paginated</span>
                    <u>/api/1/activity/github</u>
                </a></div>
                <div class="accordion-body collapse" id="row2"><div class="accordion-inner">
Body
                        <pre style="font-size: 10px;">
<b>Optional Parameters</b>
repo    Comma seperated names of repositories.
        eg: ckanext-harvest,ckanext-dgu</pre>
                </div></div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row3" class="accordion-toggle" data-toggle="collapse">
                <span class="label label-info pull-right">Paginated</span>
                <u>/api/1/activity/mailman</u>
                </a></div>
                <div class="accordion-body collapse" id="row3"><div class="accordion-inner">
Body
                        <pre style="font-size: 10px;">
<b>Optional Parameters</b>
list    Comma seperated names of mailman lists.
        eg: ckan-dev,ckan-discuss</pre>
                </div></div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row4" class="accordion-toggle" data-toggle="collapse">
                <span class="label label-info pull-right">Paginated</span>
                <u>/api/1/activity/twitter</u>
                </a></div>
                <div class="accordion-body collapse" id="row4"><div class="accordion-inner">
                    Body
                </div></div>
            </div>
        </div>
        <h4>Data</h4>
        <div class="accordion">
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row5" class="accordion-toggle" data-toggle="collapse">
                <u>/api/1/data/github</u>
                </a></div>
                <div class="accordion-body collapse" id="row5"><div class="accordion-inner">
                    Body
                </div></div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row6" class="accordion-toggle" data-toggle="collapse">
                <u>/api/1/data/mailman</u>
                </a></div>
                <div class="accordion-body collapse" id="row6"><div class="accordion-inner">
                    Body
                </div></div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row7" class="accordion-toggle" data-toggle="collapse">
                <span class="label label-info pull-right">Paginated</span>
                <u>/api/1/data/person</u>
                </a></div>
                <div class="accordion-body collapse" id="row7"><div class="accordion-inner">
Body
                        <pre style="font-size: 10px;">
<b>Optional Parameters</b>
opinion   Filter by opinion label in database.
          eg. 'staff'</pre>
                </div></div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row8" class="accordion-toggle" data-toggle="collapse">
                <span class="label label-info pull-right">Paginated</span>
                <u>/api/1/data/timestamp</u>
                </a></div>
                <div class="accordion-body collapse" id="row8"><div class="accordion-inner">
                    Body
                </div></div>
            </div>
        </div>
        <h4>History Analytics</h4>
        <div class="accordion">
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row12" class="accordion-toggle" data-toggle="collapse">
                <span class="label label-important pull-right">Granular</span>
                <u>/api/1/history/github</u>
                </a></div>
                <div class="accordion-body collapse" id="row12"><div class="accordion-inner">
                    Body
                </div></div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row14" class="accordion-toggle" data-toggle="collapse">
                <span class="label label-important pull-right">Granular</span>
                <u>/api/1/history/mailman</u>
                </a></div>
                <div class="accordion-body collapse" id="row14"><div class="accordion-inner">
                    Body
                </div></div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row13" class="accordion-toggle" data-toggle="collapse">
                <span class="label label-info pull-right">Paginated</span>
                <span class="label label-important pull-right">Granular</span>
                <u>/api/1/history/github/<span class="url-opt">&lt;repo_name&gt;</span></u>
            </a></div>
                <div class="accordion-body collapse" id="row13"><div class="accordion-inner">
                    Body
                </div></div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row15" class="accordion-toggle" data-toggle="collapse">
                <span class="label label-info pull-right">Paginated</span>
                <span class="label label-important pull-right">Granular</span>
                <u>/api/1/history/mailman/<span class="url-opt">&lt;list_name&gt;</span></u>
                </a></div>
                <div class="accordion-body collapse" id="row15"><div class="accordion-inner">
                    Body
                </div></div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row11" class="accordion-toggle" data-toggle="collapse">
                <span class="label label-info pull-right">Paginated</span>
                <span class="label label-important pull-right">Granular</span>
                <u>/api/1/history/buddypress</u>
                </a></div>
                <div class="accordion-body collapse" id="row11"><div class="accordion-inner">
                    Body
                </div></div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row16" class="accordion-toggle" data-toggle="collapse">
                <span class="label label-info pull-right">Paginated</span>
                <u>/api/1/history/twitter</u>
                </a></div>
                <div class="accordion-body collapse" id="row16"><div class="accordion-inner">
                    Body
                </div></div>
            </div>
        </div>
        <h4>Debug</h4>
        <div class="accordion">
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row9" class="accordion-toggle" data-toggle="collapse">
                <u>/api/1/debug/request</u>
                </a></div>
                <div class="accordion-body collapse" id="row9"><div class="accordion-inner">
                    Body
                </div></div>
            </div>
            <div class="accordion-group">
                <div class="accordion-heading"><a href="#row10" class="accordion-toggle" data-toggle="collapse">
                <u>/api/1/debug/twitter_ratelimit</u>
                </a></div>
                <div class="accordion-body collapse" id="row10"><div class="accordion-inner">
                    Body
                </div></div>
            </div>
        </div>

        <footer>
          <p>The Activity API runs on <a href="http://www.heroku.com/">Heroku</a> cloud servers.</p>
          <p>Its architecture consists of a front-end dyno running a <a href="http://flask.pocoo.org/">Flask</a> webserver, with multiple scheduled worker threads maintaining a <a href="http://www.postgresql.org/">PostgreSQL</a> database.</p>
        </footer>
      </div>
    </div>

  </body>
</html>
